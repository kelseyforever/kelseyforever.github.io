/* ---------------- base ---------------- */
* { box-sizing: border-box; }
body { background:#121212; color:#fff; font-family:sans-serif; margin:0; }

/* keep the text sitting over the hero */
header {
  text-align:center;
  padding:40px 0 10px;
  position:relative;
  z-index:2;
  margin-top:-130px;       /* pull the header up over the hero */
}
header h1{margin:0;font-size:32px;}
header h2{margin:6px 0 20px;font-size:15px;font-weight:400;}
.intro{max-width:650px;margin:0 auto 0;line-height:1.6;font-size:14px}

/* translucent box behind the heading+intro */
.text-bg{
  display:inline-block;
  background: rgba(0,0,0,.38);
  padding: 12px 18px;
  border-radius: 8px;
  backdrop-filter: blur(2px);
}

/* ---------------- hero ---------------- */
/* responsive; no fixed positioning */
.hero{
  position: relative;
  width: 100%;
  height: clamp(220px, 36vh, 420px);
  background-image: url('assets/photos/kels.png');
  background-size: cover;
  background-position: center 30%; /* nudge down so faces show */
  filter: grayscale(70%) brightness(60%);
  z-index:1;
}

/* ---------------- filters -------------- */
.filters{margin:18px 0 24px;}
.filters button{
  margin:0 6px;border:none;padding:6px 14px;background:#2d2d2d;
  color:#fff;border-radius:30px;cursor:pointer;font-size:14px
}
.filters button.active{background:#fff;color:#000}

/* --------------- gallery --------------- */
#gallery{
  column-count:3;
  column-gap:18px;
  padding: 0 18px 120px;
}
.item{
  break-inside:avoid;
  margin-bottom:18px;
  background:#0b0b0b;
  border-radius:8px;
  overflow:hidden;
}

/* fade-in when loaded (images & videos) */
.item img,
.item video{
  width:100%;
  display:block;
  border-radius:8px;
  transition: transform .2s, opacity .25s ease;
  opacity:0;                 /* start hidden; JS will add .loaded */
  object-fit:cover;
}

/* show once loaded – supports both class patterns */
.item.loaded img,
.item.loaded video,
.item img.loaded,
.item video.loaded{
  opacity:1;
}

.item:hover img,
.item:hover video{
  transform: translateY(-4px);
}

/* --- VIDEO POSTER FALLBACK (prevents black tiles) --- */
.item.video { 
  position: relative; 
}

.item.video .poster-fallback{
  position: absolute; 
  inset: 0;
  width: 100%; 
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
  transition: opacity .25s ease;
  pointer-events: none;           /* <-- always non-interactive */
}

.item.video.ready .poster-fallback{ 
  opacity: 0;                     /* fade away when video is ready */
}

.item.video video{
  display: block; 
  width: 100%; 
  height: auto; 
  border-radius: 8px;
  object-fit: cover;
  background: #000;               /* pleasant baseline while decoding */
}

/* --------------- lightbox -------------- */
#lightbox{
  position:fixed; inset:0; background:rgba(0,0,0,.85);
  display:flex; justify-content:center; align-items:center; z-index:9999;
  cursor: zoom-out;           /* click outside to close */
}
#lightbox.hidden{ display:none; }
#lightContentWrapper{
  position:relative; max-width:80%; max-height:90%;
  cursor: default;            /* don’t close when clicking the media itself */
}
#lightContent img,#lightContent video{ max-width:100%; max-height:100%; }
#close{
  position:absolute; top:-35px; right:-35px; background:none;
  color:#fff; font-size:35px; border:none; cursor:pointer;
}

/* actions row (Download + Open original) */
.lb-actions{
  margin-top:12px;
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.lb-btn{
  padding:8px 14px;
  border-radius:8px;
  color:#fff;
  text-decoration:none;
  background:rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.25);
  display:inline-flex;
  align-items:center;
  gap:8px;
  line-height:1;
}
.lb-btn:hover{ background:rgba(255,255,255,.22); }
.lb-btn:visited{ color:#fff; }                                  /* keep white */
.lb-btn:focus{ outline:2px solid #fff3; outline-offset:2px; }    /* a11y */

/* ---------- floating buttons ----------- */
.floating-btn{
  position:fixed; bottom:15px; background:rgba(255,255,255,.15);
  color:#fff; border:none; padding:8px 14px; border-radius:30px; cursor:pointer;
  z-index:10000; backdrop-filter:blur(5px);
  transition:transform .15s ease, opacity .15s ease;
}
.floating-btn:hover{ transform: translateY(-4px) scale(1.05); opacity:.85; }
.floating-btn:active{ transform: translateY(0) scale(.96); }
#topBtn{right:120px;} #shuffleBtn{right:20px;}

/* -------------- responsive ------------- */
@media (max-width:1024px){
  #gallery{ column-count:3; column-gap:16px; padding:0 16px 100px; }
  .hero{ height: 360px; background-position:center 28%; }
  header{ margin-top:-120px; }
}
@media (max-width:768px){
  #gallery{ column-count:2; column-gap:14px; padding:0 14px 90px; }
  .hero{ height: 280px; background-position:center 32%; }
  header{ margin-top:-105px; }
}
@media (max-width:480px){
  #gallery{ column-count:2; column-gap:12px; padding:0 12px 80px; }
  .hero{ height: 240px; background-position:center 35%; }
  header{ margin-top:-92px; }
}

/* --- Emergency: always show media; fade only on hover --- */
#gallery .item img,
#gallery .item video{
  opacity: 1 !important;
  transition: transform .2s ease;   /* no opacity gating conflicts */
}

/* keep the hover lift */
#gallery .item:hover img,
#gallery .item:hover video{ transform: translateY(-4px); }

/* ensure nothing is blocking mouse events */
#gallery .item{ pointer-events:auto; }
